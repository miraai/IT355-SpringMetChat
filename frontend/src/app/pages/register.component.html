<div class="form">
    <h2>Register</h2>
    <div class="thumbnail"><img src="/assets/hat.svg"/></div>
    <form class="login-form" name="form" (ngSubmit)="f.form.valid && register()" #f="ngForm" novalidate>
        <div class="form-group" [ngClass]="{ 'has-error': !loading && f.submitted && !username.valid }">
            <input type="text" class="form-control" name="username" id="username-field" [disabled]="loading" [(ngModel)]="model.username" #username="ngModel" placeholder="name" required />
            <p *ngIf="!loading && f.submitted && !model.username" class="message">Username is required.</p>
            <p *ngIf="!loading && model.username && !username.valid" class="message">Username contains illegal characters.</p>
        </div>
        <div>
            <p>Avatar</p>
            <img src="assets/avatars/avatar32%20({{model.prevAvatar}}).png" alt="avatar" (click)="changeAvatar(-1)"/>
            <img src="assets/avatars/avatar64%20({{model.avatar}}).png" alt="avatar" />
            <img src="assets/avatars/avatar32%20({{model.nextAvatar}}).png" alt="avatar" (click)="changeAvatar(1)" />
        </div>
        <div class="form-group" [ngClass]="{ 'has-error': !loading && f.submitted && !password.valid }">
            <input type="password" class="form-control" name="password" id="password-field" [disabled]="loading" [(ngModel)]="model.password" #password="ngModel" placeholder="password" validateNospace />
            <p *ngIf="!loading && model.password && !password.valid" class="message">Password contains illegal characters.</p>
        </div>
        <div class="form-group">
            <button [disabled]="loading" class="btn btn-primary" id="register-button">Register</button>
            <img *ngIf="loading" src="/assets/spinner32.svg" />
            <p *ngIf="!loading" class="message">Already registered? <a [routerLink]="['/login']">Log in.</a></p>
        </div>
    </form>
</div>